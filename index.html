<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lloyd Espineli Neon Portfolio</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif;}
body{background:#0B0F2A;color:#E0E0E0;scroll-behavior:smooth;position:relative;overflow-x:hidden;}
nav{position:fixed;top:0;left:0;width:100%;padding:15px 10%;display:flex;justify-content:space-between;align-items:center;background:rgba(11,15,42,0.6);backdrop-filter:blur(5px);z-index:1000;transition:0.3s;}
nav.scrolled{background:rgba(11,15,42,0.95);}
nav .logo{font-weight:600;font-size:20px;color:#00F0FF;text-shadow:0 0 8px #00F0FF;}
nav .nav-links a{color:#E0E0E0;text-decoration:none;margin-left:20px;transition:0.3s;position:relative;}
nav .nav-links a.active::after{content:"";position:absolute;left:0;bottom:-5px;width:100%;height:2px;background:#B159FF;border-radius:2px;}
nav .nav-links a:hover{color:#00F0FF;text-shadow:0 0 6px #00F0FF;}

.main{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:100px 10% 60px;}

.hero, .section{opacity:0;transform:translateY(50px);transition:all 0.8s ease-out;position:relative;}
.hero{background:rgba(0,0,0,0.35);border-radius:20px;padding:40px 50px;display:flex;align-items:center;gap:30px;max-width:900px;width:100%;box-shadow:0 0 25px rgba(0,255,255,0.2);margin-bottom:50px;}
.profile-wrap{width:200px;height:200px;border-radius:50%;overflow:hidden;border:3px solid #00F0FF;box-shadow:0 0 25px rgba(0,240,255,0.8);animation:float 4s ease-in-out infinite;transition:0.3s;}
.profile-wrap img{width:100%;height:100%;object-fit:cover;}
.profile-wrap:hover{transform:scale(1.05);}
.hero-info{max-width:500px;}
.hero-info h1{font-size:38px;margin-bottom:5px;color:#00F0FF;text-shadow:0 0 10px #00F0FF,0 0 20px #B159FF;}
.typing{font-size:16px;color:#B0B0B0;margin-bottom:10px;min-height:22px;}
.desc{font-size:15px;line-height:1.5;color:#E0E0E0;margin-bottom:15px;}
.contact p{font-size:14px;margin-bottom:6px;color:#B0B0B0;}
.buttons{margin-top:15px;display:flex;gap:12px;flex-wrap:wrap;}
.buttons a{text-decoration:none;padding:10px 22px;border-radius:30px;font-size:14px;color:#E0E0E0;border:2px solid #00F0FF;transition:0.3s;box-shadow:0 0 15px rgba(0,240,255,0.5);}
.buttons a:hover{background:#00F0FF;color:#000;transform:scale(1.05);box-shadow:0 0 25px rgba(0,240,255,1);}
.socials{margin-top:15px;display:flex;gap:15px;}
.socials a{color:#E0E0E0;font-size:20px;transition:0.3s;}
.socials a:hover{transform:scale(1.2);color:#B159FF;text-shadow:0 0 8px #B159FF;}

.section{background:rgba(0,0,0,0.35);border-radius:20px;padding:30px 40px;max-width:900px;width:100%;box-shadow:0 0 20px rgba(0,240,255,0.1);margin-bottom:30px;}
.section h2{margin-bottom:15px;color:#00F0FF;text-shadow:0 0 8px #B159FF;}

.card{background:rgba(255,255,255,0.05);border-radius:15px;padding:15px 20px;margin-bottom:12px;transition:0.3s;display:flex;justify-content:space-between;align-items:center;position:relative;}
.card:hover{box-shadow:0 0 25px rgba(0,240,255,0.7);transform:translateY(-5px);}
.card .year{font-weight:600;font-size:16px;color:#B159FF;margin-right:15px;}

.skills span{display:inline-block;background:rgba(0,240,255,0.1);padding:8px 14px;border-radius:20px;margin:5px;font-size:13px;box-shadow:0 0 10px rgba(0,240,255,0.4);}
.skill-bar{background:rgba(0,240,255,0.05);border-radius:20px;height:12px;margin:8px 0;overflow:hidden;}
.skill-fill{height:100%;width:0%;background:#B159FF;border-radius:20px;transition:width 1.5s ease-in-out;}

footer{text-align:center;padding:20px 10%;background:rgba(0,0,0,0.7);border-top:1px solid #00F0FF;text-shadow:0 0 6px #B159FF;}
#backToTop{position:fixed;bottom:20px;right:20px;background:#00F0FF;color:#000;padding:10px 15px;border:none;border-radius:50px;cursor:pointer;display:none;box-shadow:0 0 10px rgba(0,240,255,0.5);z-index:1000;transition:0.3s;}
#backToTop:hover{transform:scale(1.1);}

#particles-js{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;}

@keyframes float{0%{transform:translateY(0);}50%{transform:translateY(-10px);}100%{transform:translateY(0);}}
@media(max-width:700px){.hero{flex-direction:column;text-align:center;padding:30px 20px;}.profile-wrap{width:160px;height:160px;}.hero-info h1{font-size:32px;}}

/* ============ GAME STYLES - OPTIMIZED & FEATURE-RICH ============ */
#game-open-btn{position:fixed;bottom:20px;left:20px;background:#00F0FF;color:#000;padding:12px 18px;border:none;border-radius:50px;cursor:pointer;box-shadow:0 0 10px rgba(0,240,255,0.5);z-index:1500;transition:0.3s;font-weight:600;display:flex;align-items:center;gap:6px;}
#game-open-btn:hover{transform:scale(1.1);box-shadow:0 0 20px rgba(0,240,255,0.9);}
#game-open-btn i{font-size:16px;}

#game-container{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(11,15,42,0.98);padding:20px;border-radius:20px;text-align:center;z-index:2000;width:95%;max-width:700px;color:#E0E0E0;display:none;box-shadow:0 0 35px rgba(0,240,255,0.8);border:2px solid #00F0FF;max-height:95vh;overflow-y:auto;}
#game-header{margin-bottom:15px;font-size:20px;color:#00F0FF;text-shadow:0 0 8px #B159FF;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;}
#close-game{background:none;border:none;color:#00F0FF;font-size:22px;cursor:pointer;transition:0.3s;padding:5px;}
#close-game:hover{transform:scale(1.2);color:#B159FF;}

#stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-bottom:15px;}
.stat-card{background:rgba(0,0,0,0.3);padding:10px;border-radius:12px;text-align:center;border:1px solid rgba(0,240,255,0.3);}
.stat-card h4{font-size:11px;color:#B0B0B0;margin-bottom:4px;}
.stat-card p{font-weight:700;font-size:16px;color:#00F0FF;}
.stat-card.highlight{background:rgba(177,89,255,0.2);border-color:#B159FF;}

#game-area{position:relative;height:220px;background:rgba(0,0,0,0.4);border-radius:15px;margin:10px 0;overflow:hidden;border:1px solid #00F0FF;cursor:crosshair;}
.game-shape{position:absolute;display:flex;align-items:center;justify-content:center;cursor:pointer;user-select:none;will-change:transform;transition:transform 0.05s;}
.game-shape:hover{transform:scale(1.1);z-index:5;}
.game-shape:active{transform:scale(0.9);}
.game-shape.potato-mode{animation:none!important;box-shadow:none!important;}

.shape-base{border-radius:50%;box-shadow:0 0 12px rgba(0,240,255,0.6);}
.shape-circle{background:linear-gradient(135deg, #00F0FF, #0099FF);}
.shape-square{background:linear-gradient(135deg, #B159FF, #7B2CBF);border-radius:12px;}
.shape-triangle{background:linear-gradient(135deg, #FF6B6B, #EE5A24);clip-path:polygon(50% 0%, 0% 100%, 100% 100%);}
.shape-star{background:linear-gradient(135deg, #FFD166, #FF9E6D);clip-path:polygon(50% 0%, 63% 38%, 100% 38%, 69% 59%, 82% 100%, 50% 75%, 18% 100%, 31% 59%, 0% 38%, 37% 38%);}
.shape-gold{background:linear-gradient(135deg, #FFD700, #FFA500);box-shadow:0 0 20px rgba(255,215,0,0.9);animation:goldPulse 0.6s infinite;}
.shape-boss{background:linear-gradient(135deg, #FF006E, #8338EC);border-radius:20px;box-shadow:0 0 30px rgba(255,0,110,0.8);z-index:20;font-size:24px;}

@keyframes goldPulse{0%,100%{box-shadow:0 0 20px rgba(255,215,0,0.7);}50%{box-shadow:0 0 35px rgba(255,215,0,1);}}
@keyframes screenPulse{0%{box-shadow:0 0 0 rgba(0,240,255,0);}50%{box-shadow:0 0 30px rgba(0,240,255,0.4);}100%{box-shadow:0 0 0 rgba(0,240,255,0);}}

#tabs{display:flex;gap:4px;margin:10px 0;flex-wrap:wrap;justify-content:center;}
.tab-btn{flex:1;min-width:70px;padding:7px;border:none;border-radius:10px;background:rgba(0,240,255,0.1);color:#E0E0E0;cursor:pointer;transition:0.2s;font-size:13px;font-weight:500;}
.tab-btn.active{background:#00F0FF;color:#000;box-shadow:0 0 12px rgba(0,240,255,0.6);}
.tab-btn:hover:not(.active){background:rgba(0,240,255,0.2);}

.tab-content{display:none;text-align:left;padding:5px 0;}
.tab-content.active{display:block;}

.upgrade-item{background:rgba(255,255,255,0.05);border-radius:12px;padding:10px;margin:6px 0;display:flex;justify-content:space-between;align-items:center;transition:0.2s;border-left:3px solid #B159FF;font-size:13px;}
.upgrade-item:hover{background:rgba(0,240,255,0.1);}
.upgrade-info h4{color:#00F0FF;margin-bottom:2px;font-size:14px;}
.upgrade-info p{font-size:11px;color:#B0B0B0;}
.upgrade-cost{font-weight:700;color:#FF6B6B;font-size:13px;margin-bottom:3px;}
.buy-btn{background:#00F0FF;color:#000;border:none;padding:5px 12px;border-radius:18px;cursor:pointer;font-weight:600;font-size:12px;transition:0.2s;}
.buy-btn:hover{transform:scale(1.03);}
.buy-btn:disabled{background:#444;color:#777;cursor:not-allowed;transform:none;}

#achievements-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;}
.achievement{background:rgba(255,255,255,0.05);border-radius:10px;padding:10px;text-align:center;border:1px solid rgba(177,89,255,0.3);}
.achievement.locked{opacity:0.6;filter:grayscale(0.7);}
.achievement.unlocked{border-color:#00F0FF;box-shadow:0 0 10px rgba(0,240,255,0.3);}
.achievement-icon{font-size:24px;margin-bottom:5px;}
.achievement-name{font-weight:600;font-size:13px;color:#00F0FF;}
.achievement-desc{font-size:10px;color:#B0B0B0;margin-top:3px;}
.achievement-reward{font-size:11px;color:#FFD700;margin-top:4px;}

#cosmetics-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;}
.cosmetic-item{background:rgba(255,255,255,0.05);border-radius:10px;padding:10px;text-align:center;cursor:pointer;transition:0.2s;border:2px solid transparent;}
.cosmetic-item:hover{border-color:rgba(0,240,255,0.5);}
.cosmetic-item.owned{border-color:#00F0FF;}
.cosmetic-item.equipped{background:rgba(0,240,255,0.15);border-color:#00F0FF;box-shadow:0 0 12px rgba(0,240,255,0.4);}
.cosmetic-preview{width:40px;height:40px;margin:0 auto 6px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:18px;}
.cosmetic-name{font-size:12px;font-weight:500;}

#settings-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;text-align:left;}
.setting-item{display:flex;justify-content:space-between;align-items:center;padding:8px;background:rgba(255,255,255,0.05);border-radius:10px;font-size:13px;}
.setting-toggle{position:relative;display:inline-block;width:40px;height:22px;}
.setting-toggle input{opacity:0;width:0;height:0;}
.toggle-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#444;border-radius:22px;transition:0.3s;}
.toggle-slider:before{position:absolute;content:"";height:18px;width:18px;left:2px;bottom:2px;background:#00F0FF;border-radius:50%;transition:0.3s;}
input:checked + .toggle-slider{background:#00F0FF;}
input:checked + .toggle-slider:before{transform:translateX(18px);background:#000;}

#buffs-bar{display:flex;gap:6px;flex-wrap:wrap;justify-content:center;margin:8px 0;min-height:28px;}
.buff-badge{padding:4px 10px;border-radius:15px;font-size:11px;font-weight:600;background:rgba(0,240,255,0.2);border:1px solid #00F0FF;display:flex;align-items:center;gap:4px;}
.buff-badge.critical{background:rgba(255,215,0,0.3);border-color:#FFD700;}
.buff-badge.chain{background:rgba(177,89,255,0.3);border-color:#B159FF;}

#notification-area{position:fixed;top:15px;left:50%;transform:translateX(-50%);z-index:3000;pointer-events:none;}
.event-notification{background:linear-gradient(135deg, #B159FF, #00F0FF);color:#000;padding:10px 20px;border-radius:25px;font-weight:600;font-size:13px;box-shadow:0 0 20px rgba(0,240,255,0.8);margin-bottom:8px;animation:slideIn 0.3s, fadeOut 0.4s 2.2s forwards;max-width:90vw;}
@keyframes slideIn{from{transform:translateX(-50%) translateY(-20px);opacity:0;}to{transform:translateX(-50%) translateY(0);opacity:1;}}
@keyframes fadeOut{to{opacity:0;transform:translateX(-50%) translateY(-10px);}}

.particle{position:absolute;width:4px;height:4px;background:#B159FF;border-radius:50%;pointer-events:none;opacity:1;will-change:transform;}
.particle.potato{animation:none!important;}

#combo-display-large{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:40px;font-weight:800;color:#00F0FF;text-shadow:0 0 20px #00F0FF;pointer-events:none;opacity:0;transition:opacity 0.2s;z-index:15;}
#combo-display-large.show{opacity:1;animation:comboPop 0.5s;}
@keyframes comboPop{0%{transform:translate(-50%,-50%) scale(0.5);}50%{transform:translate(-50%,-50%) scale(1.2);}100%{transform:translate(-50%,-50%) scale(1);}}

#boss-health{position:absolute;top:10px;left:50%;transform:translateX(-50%);width:80%;height:8px;background:rgba(255,255,255,0.2);border-radius:4px;overflow:hidden;display:none;}
#boss-health-bar{height:100%;width:100%;background:linear-gradient(90deg, #FF006E, #8338EC);transition:width 0.2s;}

#daily-bonus{background:rgba(255,215,0,0.15);border:1px solid #FFD700;border-radius:12px;padding:12px;margin:10px 0;text-align:center;}
#daily-bonus button{margin-top:8px;background:#FFD700;color:#000;border:none;padding:6px 15px;border-radius:20px;cursor:pointer;font-weight:600;}

#progress-code{background:rgba(0,0,0,0.4);padding:10px;border-radius:10px;margin:10px 0;font-family:monospace;font-size:14px;letter-spacing:1px;}

#tutorial-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);z-index:2500;display:none;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;}
.tutorial-step{background:rgba(11,15,42,0.95);padding:25px;border-radius:20px;max-width:500px;border:2px solid #00F0FF;}
.tutorial-step h3{color:#00F0FF;margin-bottom:12px;}
.tutorial-step p{margin-bottom:15px;line-height:1.5;}
.tutorial-nav{display:flex;gap:10px;justify-content:center;}
.tutorial-nav button{padding:8px 20px;border:none;border-radius:20px;cursor:pointer;font-weight:600;}
.tutorial-nav .next{background:#00F0FF;color:#000;}
.tutorial-nav .skip{background:rgba(255,255,255,0.1);color:#E0E0E0;}

/* Potato mode optimizations */
.potato-mode .particle{display:none;}
.potato-mode .game-shape{animation:none!important;box-shadow:none!important;}
.potato-mode #game-area{background:rgba(0,0,0,0.6);}
.potato-mode .event-notification{animation-duration:0.1s!important;}

/* Responsive */
@media(max-width:600px){
  #stats-grid{grid-template-columns:repeat(2,1fr);}
  #achievements-grid, #cosmetics-grid{grid-template-columns:repeat(2,1fr);}
  #settings-grid{grid-template-columns:1fr;}
  #game-area{height:180px;}
  .upgrade-item{flex-direction:column;align-items:flex-start;gap:6px;}
  .buy-btn{align-self:flex-end;}
}
</style>
</head>
<body>

<nav id="navbar">
  <div class="logo">Lloyd Espineli</div>
  <div class="nav-links">
    <a href="#hero">Home</a>
    <a href="#work">Experience</a>
    <a href="#skills">Skills</a>
    <a href="#contact">Contact</a>
  </div>
</nav>

<div id="particles-js"></div>

<div class="main">
<div class="hero" id="hero" data-animate>
  <div class="profile-wrap"><img src="photo.jpg" alt="Profile"></div>
  <div class="hero-info">
    <h1>Lloyd Espineli C.</h1>
    <div class="typing" id="typing"></div>
    <p class="desc">18 year old BSIT student at Quezon City University. Looking for part time work to gain experience and build professional skills.</p>
    <div class="contact" id="contact">
      <p>Phone: +63 966 348 3648</p>
      <p>Email: lloyd.espineli@gmail.com</p>
      <p>Address: 32 Urbano St. Bagbag, Novaliches QC</p>
    </div>
    <div class="buttons">
      <a href="mailto:lloyd.espineli@gmail.com">Email Me</a>
      <a href="tel:+639663483648">Call Me</a>
      <a href="cv.pdf" download>Download CV</a>
    </div>
    <div class="socials">
      <a href="https://www.facebook.com/llyd.spnlee"><i class="fab fa-facebook"></i></a>
      <a href="https://www.instagram.com/lyyspnlee_"><i class="fab fa-instagram"></i></a>
      <a href="https://github.com/Unwilleds"><i class="fab fa-github"></i></a>
    </div>
  </div>
</div>

<div class="section" id="work" data-animate>
  <h2>Work Experience</h2>
  <div class="card"><div class="year">2024</div><div>Assistant Swimming Instructor. Macuha Swim Team. Coached basic to advanced strokes. Handled students aged 5 to 20.</div></div>
  <div class="card"><div class="year">2025</div><div>Computer Shop Attendant. Titans Underground. Used time and billing system. Managed sessions and payments.</div></div>
  <div class="card"><div class="year">2025</div><div>Cashier. MNM Fish Dealer. Handled cash, recorded sales, and assisted customers.</div></div>
</div>

<div class="section" id="skills" data-animate>
  <h2>Skills</h2>
  <div class="skills">
    <span>Good Communication Skills</span>
    <span>Good Computer Skills</span>
    <span>Critical Thinking</span>
    <span>Fast Learner</span>
    <span>Adaptability</span>
  </div>
  <div class="skill-bar"><div class="skill-fill" data-width="90%"></div></div>
  <div class="skill-bar"><div class="skill-fill" data-width="80%"></div></div>
  <div class="skill-bar"><div class="skill-fill" data-width="70%"></div></div>
</div>
</div>

<footer>&copy; 2026 Lloyd Espineli. All rights reserved.</footer>
<button id="backToTop"><i class="fas fa-arrow-up"></i></button>
<button id="game-open-btn"><i class="fas fa-gamepad"></i>Neon Clicker</button>

<!-- ULTIMATE GAME CONTAINER -->
<div id="game-container">
  <div id="game-header">
    <span>‚ú® Neon Clicker v2.0</span>
    <div style="display:flex;gap:8px;align-items:center;">
      <button id="settings-btn" title="Settings" style="background:none;border:none;color:#00F0FF;font-size:18px;cursor:pointer;"><i class="fas fa-cog"></i></button>
      <button id="close-game" title="Close"><i class="fas fa-times"></i></button>
    </div>
  </div>
  
  <div id="stats-grid">
    <div class="stat-card">
      <h4>PP</h4>
      <p id="pp-display">0</p>
    </div>
    <div class="stat-card">
      <h4>Prestige</h4>
      <p id="prestige-display">0</p>
    </div>
    <div class="stat-card">
      <h4>Combo</h4>
      <p id="combo-display">x1.0</p>
    </div>
    <div class="stat-card highlight">
      <h4>Multiplier</h4>
      <p id="mult-display">1.0x</p>
    </div>
  </div>
  
  <div id="buffs-bar"></div>
  <div id="combo-display-large">COMBO x5!</div>
  
  <div id="game-area">
    <div id="boss-health"><div id="boss-health-bar"></div></div>
  </div>
  
  <div id="daily-bonus" style="display:none;">
    <strong>üéÅ Daily Bonus Available!</strong>
    <p style="font-size:12px;margin:5px 0;">Claim your reward for playing today</p>
    <button id="claim-daily">Claim +100 PP</button>
  </div>
  
  <div id="tabs">
    <button class="tab-btn active" data-tab="shop">Shop</button>
    <button class="tab-btn" data-tab="upgrades">Upgrades</button>
    <button class="tab-btn" data-tab="prestige">Prestige</button>
    <button class="tab-btn" data-tab="achievements">Trophies</button>
    <button class="tab-btn" data-tab="cosmetics">Cosmetics</button>
  </div>
  
  <!-- SHOP TAB -->
  <div id="shop" class="tab-content active">
    <div class="upgrade-item">
      <div class="upgrade-info">
        <h4>‚ö° Click Power +1</h4>
        <p>Base PP per click</p>
      </div>
      <div>
        <div class="upgrade-cost" id="click-power-cost">10 PP</div>
        <button class="buy-btn" id="buy-click-power">Buy</button>
      </div>
    </div>
    <div class="upgrade-item">
      <div class="upgrade-info">
        <h4>ü§ñ Auto Clicker</h4>
        <p>+1 PP/sec automatically</p>
      </div>
      <div>
        <div class="upgrade-cost" id="auto-clicker-cost">50 PP</div>
        <button class="buy-btn" id="buy-auto-clicker">Buy</button>
      </div>
    </div>
    <div class="upgrade-item">
      <div class="upgrade-info">
        <h4>üéØ Shape Spawner</h4>
        <p>+1 max shape on screen</p>
      </div>
      <div>
        <div class="upgrade-cost" id="spawner-cost">100 PP</div>
        <button class="buy-btn" id="buy-spawner">Buy</button>
      </div>
    </div>
    <div class="upgrade-item">
      <div class="upgrade-info">
        <h4>‚≠ê Golden Chance</h4>
        <p>+5% chance for 5x PP shapes</p>
      </div>
      <div>
        <div class="upgrade-cost" id="golden-cost">250 PP</div>
        <button class="buy-btn" id="buy-golden">Buy</button>
      </div>
    </div>
    <div class="upgrade-item">
      <div class="upgrade-info">
        <h4>üé≤ Crit Chance</h4>
        <p>+3% chance for 3-10x PP</p>
      </div>
      <div>
        <div class="upgrade-cost" id="crit-cost">400 PP</div>
        <button class="buy-btn" id="buy-crit">Buy</button>
      </div>
    </div>
  </div>
  
  <!-- UPGRADES TAB -->
  <div id="upgrades" class="tab-content">
    <div class="upgrade-item">
      <div class="upgrade-info">
        <h4>üîó Chain Master</h4>
        <p>Unlock shape combo chains</p>
      </div>
      <div>
        <div class="upgrade-cost" id="chain-cost">200 PP</div>
        <button class="buy-btn" id="buy-chain">Buy</button>
      </div>
    </div>
    <div class="upgrade-item">
      <div class="upgrade-info">
        <h4>üí´ Shape Variety</h4>
        <p>Unlock triangles & stars</p>
      </div>
      <div>
        <div class="upgrade-cost" id="variety-cost">300 PP</div>
        <button class="buy-btn" id="buy-variety">Buy</button>
      </div>
    </div>
    <div class="upgrade-item">
      <div class="upgrade-info">
        <h4>‚ö° Fever Mode</h4>
        <p>Events 2x more frequent</p>
      </div>
      <div>
        <div class="upgrade-cost" id="fever-cost">500 PP</div>
        <button class="buy-btn" id="buy-fever">Buy</button>
      </div>
    </div>
    <div class="upgrade-item">
      <div class="upgrade-info">
        <h4>üéØ Aim Trainer</h4>
        <p>Unlock skill-based mini-game</p>
      </div>
      <div>
        <div class="upgrade-cost" id="aim-cost">750 PP</div>
        <button class="buy-btn" id="buy-aim">Buy</button>
      </div>
    </div>
  </div>
  
  <!-- PRESTIGE TAB -->
  <div id="prestige" class="tab-content">
    <div style="background:rgba(177,89,255,0.15);border-radius:12px;padding:12px;margin-bottom:10px;border:1px solid #B159FF;">
      <p><strong>Prestige Multiplier:</strong> <span id="prestige-mult" style="color:#FFD700;font-weight:700;">1.0x</span></p>
      <p style="font-size:12px;margin:5px 0;">Each prestige gives +50% permanent PP multiplier</p>
      <p style="font-size:11px;color:#FF6B6B;margin-top:8px;">‚ö†Ô∏è Resets PP, combos, and upgrades (except prestige)</p>
    </div>
    <button id="prestige-btn" class="buy-btn" style="width:100%;background:#B159FF;color:#000;font-size:14px;padding:10px;">
      Rebirth for <span id="prestige-requirement">1,000</span> PP
    </button>
    <div id="progress-code" style="margin-top:15px;">
      <strong>Share Code:</strong><br>
      <span id="code-display">NEON-XXXX</span>
      <button id="copy-code" style="margin-left:8px;padding:3px 8px;background:#00F0FF;border:none;border-radius:5px;cursor:pointer;font-size:11px;">Copy</button>
    </div>
  </div>
  
  <!-- ACHIEVEMENTS TAB -->
  <div id="achievements" class="tab-content">
    <div id="achievements-grid"></div>
  </div>
  
  <!-- COSMETICS TAB -->
  <div id="cosmetics" class="tab-content">
    <p style="font-size:12px;color:#B0B0B0;margin-bottom:10px;">Purely visual - no gameplay impact</p>
    <div id="cosmetics-grid"></div>
  </div>
</div>

<!-- SETTINGS MODAL -->
<div id="settings-modal" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(11,15,42,0.98);padding:25px;border-radius:20px;z-index:2100;width:90%;max-width:500px;display:none;box-shadow:0 0 35px rgba(0,240,255,0.8);border:2px solid #00F0FF;">
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;">
    <h3 style="color:#00F0FF;">‚öôÔ∏è Settings</h3>
    <button id="close-settings" style="background:none;border:none;color:#00F0FF;font-size:20px;cursor:pointer;"><i class="fas fa-times"></i></button>
  </div>
  
  <div id="settings-grid">
    <div class="setting-item">
      <span>ü•î Potato Mode</span>
      <label class="setting-toggle">
        <input type="checkbox" id="potato-toggle">
        <span class="toggle-slider"></span>
      </label>
    </div>
    <div class="setting-item">
      <span>‚ú® Animations</span>
      <label class="setting-toggle">
        <input type="checkbox" id="anim-toggle" checked>
        <span class="toggle-slider"></span>
      </label>
    </div>
    <div class="setting-item">
      <span>üéÜ Particles</span>
      <label class="setting-toggle">
        <input type="checkbox" id="particle-toggle" checked>
        <span class="toggle-slider"></span>
      </label>
    </div>
    <div class="setting-item">
      <span>üîä Sound Effects</span>
      <label class="setting-toggle">
        <input type="checkbox" id="sound-toggle">
        <span class="toggle-slider"></span>
      </label>
    </div>
    <div class="setting-item">
      <span>üí• Screen Effects</span>
      <label class="setting-toggle">
        <input type="checkbox" id="screen-toggle" checked>
        <span class="toggle-slider"></span>
      </label>
    </div>
    <div class="setting-item">
      <span>üéÆ IT Student Theme</span>
      <label class="setting-toggle">
        <input type="checkbox" id="theme-toggle">
        <span class="toggle-slider"></span>
      </label>
    </div>
    <div class="setting-item">
      <span>üü¢ Easy Mode</span>
      <label class="setting-toggle">
        <input type="checkbox" id="easy-toggle">
        <span class="toggle-slider"></span>
      </label>
    </div>
    <div class="setting-item">
      <span>üî¥ Hardcore Mode</span>
      <label class="setting-toggle">
        <input type="checkbox" id="hard-toggle">
        <span class="toggle-slider"></span>
      </label>
    </div>
  </div>
  
  <div style="margin-top:20px;display:flex;gap:10px;justify-content:center;">
    <button id="reset-game" style="padding:8px 20px;background:#FF6B6B;color:#fff;border:none;border-radius:20px;cursor:pointer;font-weight:600;">Reset All Progress</button>
    <button id="save-settings" style="padding:8px 20px;background:#00F0FF;color:#000;border:none;border-radius:20px;cursor:pointer;font-weight:600;">Save & Close</button>
  </div>
</div>

<!-- TUTORIAL OVERLAY -->
<div id="tutorial-overlay">
  <div class="tutorial-step">
    <h3>üéÆ Welcome to Neon Clicker!</h3>
    <p>Click the glowing shapes to earn PP (Power Points). Build combos by clicking quickly!</p>
    <div class="tutorial-nav">
      <button class="next" data-step="1">Next ‚Üí</button>
      <button class="skip" id="skip-tutorial">Skip Tutorial</button>
    </div>
  </div>
</div>

<div id="notification-area"></div>

<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script>
// ============ PORTFOLIO SCRIPTS (UNCHANGED) ============
const text=["BSIT Student","Aspiring IT Professional","Open for Part Time Work"];
let index=0,charIndex=0;
const typingDiv=document.getElementById("typing");
function typeEffect(){if(charIndex<text[index].length){typingDiv.textContent+=text[index].charAt(charIndex);charIndex++;setTimeout(typeEffect,80);}else{setTimeout(eraseEffect,1500);}}
function eraseEffect(){if(charIndex>0){typingDiv.textContent=text[index].substring(0,charIndex-1);charIndex--;setTimeout(eraseEffect,50);}else{index=(index+1)%text.length;setTimeout(typeEffect,200);}}
typeEffect();

const observer=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.style.opacity=1;entry.target.style.transform='translateY(0)';}})},{threshold:0.2});
document.querySelectorAll('[data-animate]').forEach(el=>observer.observe(el));

const skillObserver=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.style.width=entry.target.getAttribute('data-width');}})},{threshold:0.5});
document.querySelectorAll('.skill-fill').forEach(el=>skillObserver.observe(el));

const navbar=document.getElementById('navbar');
window.addEventListener('scroll',()=>{if(window.scrollY>50){navbar.classList.add('scrolled');}else{navbar.classList.remove('scrolled');}});

const sections=document.querySelectorAll('.section, .hero');
const navLinks=document.querySelectorAll('.nav-links a');
window.addEventListener('scroll',()=>{let current='';sections.forEach(sec=>{const sectionTop=sec.offsetTop-60;if(window.scrollY>=sectionTop){current=sec.id;}});navLinks.forEach(link=>{link.classList.remove('active');if(link.getAttribute('href')=='#'+current){link.classList.add('active');}});});

const backBtn=document.getElementById('backToTop');
window.addEventListener('scroll',()=>{if(window.scrollY>300){backBtn.style.display='block';}else{backBtn.style.display='none';}});
backBtn.addEventListener('click',()=>{window.scrollTo({top:0,behavior:'smooth'});});

particlesJS("particles-js",{
  "particles":{"number":{"value":60,"density":{"enable":true,"value_area":800}},"color":{"value":["#00F0FF","#B159FF"]},"shape":{"type":"circle"},"opacity":{"value":0.6,"random":true},"size":{"value":3,"random":true},"line_linked":{"enable":true,"distance":150,"color":"#00F0FF","opacity":0.3,"width":1},"move":{"enable":true,"speed":2,"direction":"none","random":true,"straight":false,"bounce":false,"attract":{"enable":false}}},
  "interactivity":{"detect_on":"canvas","events":{"onhover":{"enable":true,"mode":"grab"},"onclick":{"enable":true,"mode":"push"}}},
  "retina_detect":true
});

// ============ ULTIMATE GAME ENGINE ============
class UltimateNeonClicker {
  constructor() {
    // Core stats
    this.PP = 0;
    this.prestige = 0;
    this.combo = 1;
    this.lastClickTime = 0;
    this.totalClicks = 0;
    this.totalPP = 0;
    this.playTime = 0;
    this.startTime = Date.now();
    
    // Mechanics
    this.clickPower = 1;
    this.autoClickers = 0;
    this.maxShapes = 3;
    this.goldenChance = 0;
    this.critChance = 0;
    this.critMin = 3;
    this.critMax = 10;
    this.chainUnlocked = false;
    this.chainType = null;
    this.chainCount = 0;
    this.chainBonus = 1;
    this.shapeVarietyUnlocked = false;
    this.feverMode = false;
    this.aimUnlocked = false;
    
    // Prestige
    this.prestigeMult = 1;
    
    // Settings (loaded from localStorage)
    this.settings = {
      potato: false,
      animations: true,
      particles: true,
      sounds: false,
      screenEffects: true,
      itTheme: false,
      difficulty: 'balanced', // easy, balanced, hardcore
      autoSave: true
    };
    
    // Cosmetics
    this.cosmetics = {
      shapeSkin: 'default',
      particleTheme: 'neon',
      uiTheme: 'default'
    };
    this.unlockedCosmetics = ['default'];
    
    // Achievements
    this.achievements = [
      {id:'first_click',name:'First Click',desc:'Click your first shape',icon:'üëÜ',reward:10,unlocked:false},
      {id:'first_gold',name:'Golden Touch',desc:'Click a golden shape',icon:'‚≠ê',reward:50,unlocked:false},
      {id:'combo_5',name:'Flow State',desc:'Reach x5 combo',icon:'üî•',reward:100,unlocked:false},
      {id:'combo_10',name:'Unstoppable',desc:'Reach x10 combo',icon:'üí´',reward:250,unlocked:false},
      {id:'prestige_1',name:'Reborn',desc:'Prestige for the first time',icon:'‚ôªÔ∏è',reward:'unlock_cosmetics',unlocked:false},
      {id:'clicks_100',name:'Dedicated',desc:'Click 100 shapes',icon:'üéØ',reward:200,unlocked:false},
      {id:'pp_10k',name:'Power Surge',desc:'Earn 10,000 total PP',icon:'‚ö°',reward:500,unlocked:false},
      {id:'boss_kill',name:'Boss Slayer',desc:'Defeat a Neon Boss',icon:'üëπ',reward:1000,unlocked:false}
    ];
    
    // Shop costs & levels
    this.costs = {clickPower:10,autoClicker:50,spawner:100,golden:250,crit:400,chain:200,variety:300,fever:500,aim:750};
    this.levels = {clickPower:0,autoClicker:0,spawner:0,golden:0,crit:0,chain:0,variety:0,fever:0,aim:0};
    
    // Shape system
    this.shapes = [];
    this.baseShapeTypes = ['circle'];
    this.allShapeTypes = ['circle','square','triangle','star'];
    this.itShapeTypes = ['laptop','keyboard','mouse','folder','bug','certificate'];
    this.currentShapeTypes = ['circle'];
    
    // Events & bosses
    this.eventChance = 0.02;
    this.bossActive = false;
    this.bossHealth = 0;
    this.bossMaxHealth = 0;
    this.bossValue = 0;
    
    // Time-based
    this.lastEventCheck = Date.now();
    this.lastDailyCheck = this.loadDailyCheck();
    this.dailyClaimed = this.loadDailyClaimed();
    
    // Audio (optional)
    this.audioCtx = null;
    
    // DOM
    this.ppDisplay = document.getElementById('pp-display');
    this.prestigeDisplay = document.getElementById('prestige-display');
    this.comboDisplay = document.getElementById('combo-display');
    this.multDisplay = document.getElementById('mult-display');
    this.prestigeMultDisplay = document.getElementById('prestige-mult');
    this.gameArea = document.getElementById('game-area');
    this.buffsBar = document.getElementById('buffs-bar');
    this.comboLarge = document.getElementById('combo-display-large');
    this.bossHealthEl = document.getElementById('boss-health');
    this.bossHealthBar = document.getElementById('boss-health-bar');
    this.notificationArea = document.getElementById('notification-area');
    
    this.init();
  }
  
  init() {
    this.loadGame();
    this.applySettings();
    this.setupTabs();
    this.setupBuyButtons();
    this.setupSettings();
    this.setupAchievements();
    this.setupCosmetics();
    this.startLoops();
    this.checkDailyBonus();
    this.updateUI();
    
    // Tutorial check
    if(!localStorage.getItem('neon_tutorial_seen')) {
      this.showTutorial();
    }
    
    // Portfolio easter egg listener
    this.setupEasterEggs();
  }
  
  // ============ SETTINGS & OPTIMIZATION ============
  applySettings() {
    // Potato mode: reduce particles, disable animations
    if(this.settings.potato) {
      document.body.classList.add('potato-mode');
      this.settings.particles = false;
      this.settings.animations = false;
      this.settings.screenEffects = false;
    } else {
      document.body.classList.remove('potato-mode');
    }
    
    // Apply animation toggles
    document.querySelectorAll('.game-shape').forEach(s => {
      if(!this.settings.animations) s.classList.add('potato-mode');
      else s.classList.remove('potato-mode');
    });
    
    // Difficulty modifiers
    if(this.settings.difficulty === 'easy') {
      this.eventChance *= 1.5;
      this.costs = Object.fromEntries(Object.entries(this.costs).map(([k,v])=>[k,Math.floor(v*0.7)]));
    } else if(this.settings.difficulty === 'hardcore') {
      this.eventChance *= 0.5;
      this.costs = Object.fromEntries(Object.entries(this.costs).map(([k,v])=>[k,Math.floor(v*1.4)]));
    }
    
    // IT Theme
    if(this.settings.itTheme) {
      this.currentShapeTypes = [...this.itShapeTypes];
    } else if(this.shapeVarietyUnlocked) {
      this.currentShapeTypes = [...this.allShapeTypes];
    } else {
      this.currentShapeTypes = [...this.baseShapeTypes];
    }
  }
  
  setupSettings() {
    // Settings modal toggle
    document.getElementById('settings-btn').addEventListener('click', () => {
      document.getElementById('settings-modal').style.display = 'block';
    });
    document.getElementById('close-settings').addEventListener('click', () => {
      document.getElementById('settings-modal').style.display = 'none';
    });
    
    // Toggle listeners
    ['potato','anim','particle','sound','screen','theme','easy','hard'].forEach(id => {
      const el = document.getElementById(`${id}-toggle`);
      if(el) {
        el.checked = this.settings[id.replace('-toggle','').replace('anim','animations').replace('particle','particles').replace('sound','sounds').replace('screen','screenEffects').replace('theme','itTheme').replace('easy','difficulty') === 'easy' ? 'easy' : id.replace('hard','difficulty') === 'hard' ? 'hardcore' : this.settings[id.replace('-toggle','')]];
        el.addEventListener('change', (e) => {
          const key = id.replace('-toggle','');
          if(key === 'easy' || key === 'hard') {
            if(e.target.checked) {
              document.getElementById('hard-toggle').checked = false;
              document.getElementById('easy-toggle').checked = false;
              e.target.checked = true;
              this.settings.difficulty = key === 'easy' ? 'easy' : 'hardcore';
            }
          } else if(key === 'theme') {
            this.settings.itTheme = e.target.checked;
            this.currentShapeTypes = e.target.checked ? [...this.itShapeTypes] : (this.shapeVarietyUnlocked ? [...this.allShapeTypes] : [...this.baseShapeTypes]);
          } else {
            this.settings[key === 'anim' ? 'animations' : key === 'particle' ? 'particles' : key === 'sound' ? 'sounds' : key === 'screen' ? 'screenEffects' : key] = e.target.checked;
          }
          this.applySettings();
        });
      }
    });
    
    // Save settings
    document.getElementById('save-settings').addEventListener('click', () => {
      localStorage.setItem('neon_settings', JSON.stringify(this.settings));
      document.getElementById('settings-modal').style.display = 'none';
      this.showNotification('‚öôÔ∏è Settings Saved!');
    });
    
    // Reset game
    document.getElementById('reset-game').addEventListener('click', () => {
      if(confirm('‚ö†Ô∏è Reset ALL progress? This cannot be undone!')) {
        localStorage.removeItem('neon_save');
        localStorage.removeItem('neon_settings');
        localStorage.removeItem('neon_cosmetics');
        localStorage.removeItem('neon_achievements');
        location.reload();
      }
    });
  }
  
  // ============ CORE GAMEPLAY ============
  addPP(amount) {
    const mult = this.prestigeMult * (this.buffs?.fever ? 1.5 : 1) * this.chainBonus;
    const final = Math.floor(amount * mult);
    this.PP += final;
    this.totalPP += final;
    this.updateUI();
    return final;
  }
  
  createShape() {
    if(this.shapes.length >= this.maxShapes || this.bossActive) return;
    
    const shape = document.createElement('div');
    shape.className = 'game-shape';
    if(!this.settings.animations) shape.classList.add('potato-mode');
    
    // Shape type
    const type = this.currentShapeTypes[Math.floor(Math.random() * this.currentShapeTypes.length)];
    shape.dataset.type = type;
    
    // Skin/cosmetic
    const skin = this.cosmetics.shapeSkin;
    if(skin !== 'default') shape.classList.add(`skin-${skin}`);
    
    // Size & value
    const size = Math.floor(Math.random() * 30) + 30;
    shape.style.width = `${size}px`;
    shape.style.height = `${size}px`;
    shape.style.fontSize = `${size * 0.4}px`;
    
    // Position
    const x = Math.random() * (this.gameArea.offsetWidth - size);
    const y = Math.random() * (this.gameArea.offsetHeight - size);
    shape.style.left = `${x}px`;
    shape.style.top = `${y}px`;
    
    // Movement (simplified in potato mode)
    if(!this.settings.potato) {
      shape.dataset.vx = (Math.random() - 0.5) * (0.8 + this.levels.spawner * 0.15);
      shape.dataset.vy = (Math.random() - 0.5) * (0.8 + this.levels.spawner * 0.15);
    }
    
    // Base value
    let baseValue = Math.floor(size / 8);
    
    // Golden chance
    const isGolden = Math.random() < this.goldenChance;
    if(isGolden) {
      shape.classList.add('shape-gold');
      baseValue *= 5;
      shape.dataset.golden = 'true';
    } else {
      shape.classList.add(`shape-${type}`);
      shape.classList.add('shape-base');
    }
    
    // Boss shape (rare)
    if(!this.bossActive && Math.random() < 0.005 && this.prestige >= 1) {
      this.spawnBoss();
      return;
    }
    
    shape.dataset.value = baseValue;
    
    // Click handler
    shape.addEventListener('click', (e) => {
      e.stopPropagation();
      this.handleShapeClick(shape, baseValue, isGolden, type);
    });
    
    this.gameArea.appendChild(shape);
    this.shapes.push(shape);
    
    if(!this.settings.potato) this.animateShape(shape);
  }
  
  animateShape(shape) {
    if(!this.gameArea.contains(shape) || this.settings.potato) return;
    
    let x = parseFloat(shape.style.left);
    let y = parseFloat(shape.style.top);
    let vx = parseFloat(shape.dataset.vx);
    let vy = parseFloat(shape.dataset.vy);
    
    const maxX = this.gameArea.offsetWidth - shape.offsetWidth;
    const maxY = this.gameArea.offsetHeight - shape.offsetHeight;
    
    if(x <= 0 || x >= maxX) vx *= -1;
    if(y <= 0 || y >= maxY) vy *= -1;
    
    x = Math.max(0, Math.min(maxX, x + vx));
    y = Math.max(0, Math.min(maxY, y + vy));
    
    shape.style.left = `${x}px`;
    shape.style.top = `${y}px`;
    
    requestAnimationFrame(() => this.animateShape(shape));
  }
  
  handleShapeClick(shape, baseValue, isGolden, type) {
    this.totalClicks++;
    
    // Chain system
    if(this.chainUnlocked) {
      if(type === this.chainType) {
        this.chainCount++;
        this.chainBonus = 1 + (this.chainCount * 0.15);
        if(this.chainCount >= 3) {
          this.addPP(Math.floor(baseValue * 2));
          this.showNotification(`üîó Chain x${this.chainCount}! +20% bonus`);
        }
      } else {
        this.chainType = type;
        this.chainCount = 1;
        this.chainBonus = 1;
      }
      this.updateBuffsUI();
    }
    
    // Critical click
    let isCrit = false;
    if(Math.random() < this.critChance) {
      isCrit = true;
      baseValue *= Math.floor(Math.random() * (this.critMax - this.critMin + 1)) + this.critMin;
      if(this.settings.screenEffects) {
        this.gameArea.style.animation = 'screenPulse 0.3s';
        setTimeout(() => this.gameArea.style.animation = '', 300);
      }
      this.showNotification('üí• CRITICAL HIT!');
    }
    
    // Combo system
    const now = Date.now();
    if(now - this.lastClickTime < 800) {
      this.combo = Math.min(this.combo + 0.15, 15);
      if(this.combo >= 5 && !this.achievements.find(a=>a.id==='combo_5').unlocked) this.unlockAchievement('combo_5');
      if(this.combo >= 10 && !this.achievements.find(a=>a.id==='combo_10').unlocked) this.unlockAchievement('combo_10');
      if(this.combo % 5 === 0 && this.settings.screenEffects) {
        this.comboLarge.textContent = `COMBO x${Math.floor(this.combo)}!`;
        this.comboLarge.classList.add('show');
        setTimeout(() => this.comboLarge.classList.remove('show'), 500);
      }
    } else {
      this.combo = 1;
      this.chainBonus = 1;
      this.chainCount = 0;
    }
    this.lastClickTime = now;
    
    // Calculate gain
    let gain = baseValue * this.clickPower * this.combo;
    if(this.buffs?.double) gain *= 2;
    
    // Add PP
    const earned = this.addPP(gain);
    
    // Visual feedback
    if(this.settings.particles && !this.settings.potato) this.createClickParticles(shape);
    if(isGolden && !this.achievements.find(a=>a.id==='first_gold').unlocked) this.unlockAchievement('first_gold');
    if(!this.achievements.find(a=>a.id==='first_click').unlocked) this.unlockAchievement('first_click');
    
    // Remove & respawn
    shape.remove();
    this.shapes = this.shapes.filter(s => s !== shape);
    setTimeout(() => this.createShape(), 200);
    
    // Boss damage
    if(this.bossActive) {
      this.bossHealth -= Math.floor(gain * 0.3);
      this.bossHealthBar.style.width = `${Math.max(0, (this.bossHealth/this.bossMaxHealth)*100)}%`;
      if(this.bossHealth <= 0) this.defeatBoss();
    }
    
    this.updateUI();
  }
  
  createClickParticles(element) {
    if(!this.settings.particles || this.settings.potato) return;
    
    const rect = element.getBoundingClientRect();
    const gameRect = this.gameArea.getBoundingClientRect();
    const count = this.settings.potato ? 3 : 8;
    
    for(let i = 0; i < count; i++) {
      const p = document.createElement('div');
      p.classList.add('particle');
      if(this.settings.potato) p.classList.add('potato');
      
      const x = rect.left - gameRect.left + rect.width/2;
      const y = rect.top - gameRect.top + rect.height/2;
      p.style.left = `${x}px`;
      p.style.top = `${y}px`;
      
      const tx = (Math.random() - 0.5) * 50;
      const ty = (Math.random() - 0.5) * 40 - 20;
      p.style.setProperty('--tx', `${tx}px`);
      p.style.setProperty('--ty', `${ty}px`);
      
      // Animate with CSS transform for performance
      p.animate([
        {transform:'translate(0,0) scale(1)', opacity:1},
        {transform:`translate(${tx}px,${ty}px) scale(0.3)`, opacity:0}
      ], {duration:500, easing:'ease-out'});
      
      this.gameArea.appendChild(p);
      setTimeout(() => p.remove(), 500);
    }
  }
  
  // ============ BOSS SYSTEM ============
  spawnBoss() {
    this.bossActive = true;
    this.bossMaxHealth = 500 * (1 + this.prestige * 0.5);
    this.bossHealth = this.bossMaxHealth;
    this.bossValue = 2000 * (1 + this.prestige);
    
    this.bossHealthEl.style.display = 'block';
    this.bossHealthBar.style.width = '100%';
    
    const boss = document.createElement('div');
    boss.className = 'game-shape shape-boss';
    boss.style.width = '80px';
    boss.style.height = '80px';
    boss.style.left = '50%';
    boss.style.top = '50%';
    boss.style.transform = 'translate(-50%, -50%)';
    boss.innerHTML = 'üëπ';
    boss.dataset.value = this.bossValue;
    
    boss.addEventListener('click', (e) => {
      e.stopPropagation();
      this.handleShapeClick(boss, 50, false, 'boss');
    });
    
    this.gameArea.appendChild(boss);
    this.shapes.push(boss);
    
    this.showNotification('üëπ NEON BOSS APPEARED! Defeat for massive PP!');
  }
  
  defeatBoss() {
    this.bossActive = false;
    this.bossHealthEl.style.display = 'none';
    
    const reward = Math.floor(this.bossValue * this.prestigeMult);
    this.addPP(reward);
    this.showNotification(`üéâ BOSS DEFEATED! +${reward.toLocaleString()} PP`);
    
    if(!this.achievements.find(a=>a.id==='boss_kill').unlocked) this.unlockAchievement('boss_kill');
    
    // Clear boss shape
    this.shapes = this.shapes.filter(s => !s.classList.contains('shape-boss'));
    document.querySelectorAll('.shape-boss').forEach(b => b.remove());
    
    // Spawn bonus shapes
    for(let i = 0; i < 3; i++) setTimeout(() => this.createShape(), i * 150);
  }
  
  // ============ EVENTS SYSTEM ============
  checkEvents() {
    const now = Date.now();
    if(now - this.lastEventCheck < (this.feverMode ? 2000 : 4000)) return;
    this.lastEventCheck = now;
    
    if(Math.random() < (this.eventChance * (this.feverMode ? 2 : 1))) {
      this.triggerEvent();
    }
  }
  
  triggerEvent() {
    const events = [
      {name:'üí´ Fever Burst',effect:()=>{this.buffs={...this.buffs,fever:true};setTimeout(()=>{delete this.buffs.fever;this.updateBuffsUI();},8000);this.updateBuffsUI();return'+50% gains for 8s!';}},
      {name:'‚ö° Double Click',effect:()=>{this.buffs={...this.buffs,double:true};setTimeout(()=>{delete this.buffs.double;this.updateBuffsUI();},6000);this.updateBuffsUI();return'2x clicks for 6s!';}},
      {name:'üåü Shape Storm',effect:()=>{for(let i=0;i<4;i++)setTimeout(()=>this.createShape(),i*100);return'+4 bonus shapes!';}},
      {name:'üí∞ PP Rain',effect:()=>{const bonus=50+Math.floor(this.PP*0.05);this.addPP(bonus);return`+${bonus} PP from the sky!`;}},
      {name:'üéØ Chain Boost',effect:()=>{if(this.chainUnlocked){this.chainBonus=2;setTimeout(()=>this.chainBonus=1,5000);this.updateBuffsUI();}return'Chain bonus x2 for 5s!';}}
    ];
    
    const event = events[Math.floor(Math.random() * events.length)];
    const msg = event.effect();
    this.showNotification(`${event.name}: ${msg}`);
  }
  
  // ============ ACHIEVEMENTS ============
  setupAchievements() {
    const grid = document.getElementById('achievements-grid');
    grid.innerHTML = '';
    
    this.achievements.forEach(ach => {
      const el = document.createElement('div');
      el.className = `achievement ${ach.unlocked ? 'unlocked' : 'locked'}`;
      el.innerHTML = `
        <div class="achievement-icon">${ach.icon}</div>
        <div class="achievement-name">${ach.name}</div>
        <div class="achievement-desc">${ach.desc}</div>
        ${ach.unlocked ? `<div class="achievement-reward">‚úÖ +${typeof ach.reward==='number'?ach.reward+' PP':'Unlocked!'}</div>`:''}
      `;
      grid.appendChild(el);
    });
  }
  
  unlockAchievement(id) {
    const ach = this.achievements.find(a => a.id === id);
    if(ach && !ach.unlocked) {
      ach.unlocked = true;
      this.showNotification(`üèÜ Achievement: ${ach.name}!`);
      if(typeof ach.reward === 'number') this.addPP(ach.reward);
      if(ach.reward === 'unlock_cosmetics') {
        this.unlockedCosmetics.push('glow','pixel','hologram');
        this.setupCosmetics();
      }
      this.setupAchievements();
      this.saveGame();
    }
  }
  
  // ============ COSMETICS ============
  setupCosmetics() {
    const grid = document.getElementById('cosmetics-grid');
    grid.innerHTML = '';
    
    const skins = [
      {id:'default',name:'Neon',preview:'üîµ',unlock:true},
      {id:'glow',name:'Glow',preview:'‚ú®',unlock:this.unlockedCosmetics.includes('glow')},
      {id:'pixel',name:'Pixel',preview:'üëæ',unlock:this.unlockedCosmetics.includes('pixel')},
      {id:'hologram',name:'Holo',preview:'üåÄ',unlock:this.unlockedCosmetics.includes('hologram')},
      {id:'fire',name:'Fire',preview:'üî•',unlock:false},
      {id:'ice',name:'Frost',preview:'‚ùÑÔ∏è',unlock:false}
    ];
    
    skins.forEach(skin => {
      const el = document.createElement('div');
      el.className = `cosmetic-item ${this.unlockedCosmetics.includes(skin.id) ? 'owned' : ''} ${this.cosmetics.shapeSkin === skin.id ? 'equipped' : ''}`;
      el.innerHTML = `
        <div class="cosmetic-preview" style="background:${skin.id==='default'?'linear-gradient(135deg,#00F0FF,#0099FF)':skin.id==='glow'?'radial-gradient(circle,#fff,#00F0FF)':skin.id==='pixel'?'#7B2CBF':skin.id==='hologram'?'linear-gradient(135deg,#FF006E,#8338EC)':'#444'}">${skin.preview}</div>
        <div class="cosmetic-name">${skin.name}${!skin.unlock?'<br><small style="color:#FF6B6B">Locked</small>':''}</small></div>
      `;
      if(skin.unlock) {
        el.addEventListener('click', () => {
          this.cosmetics.shapeSkin = skin.id;
          this.setupCosmetics();
          this.saveGame();
        });
      }
      grid.appendChild(el);
    });
  }
  
  // ============ DAILY BONUS ============
  checkDailyBonus() {
    const today = new Date().toDateString();
    if(this.lastDailyCheck !== today && !this.dailyClaimed) {
      document.getElementById('daily-bonus').style.display = 'block';
    }
  }
  
  loadDailyCheck() { return localStorage.getItem('neon_daily_date') || ''; }
  loadDailyClaimed() { return localStorage.getItem('neon_daily_claimed') === 'true'; }
  
  // ============ UI & UPDATES ============
  updateUI() {
    this.ppDisplay.textContent = this.PP.toLocaleString();
    this.prestigeDisplay.textContent = this.prestige;
    this.comboDisplay.textContent = `x${this.combo.toFixed(1)}`;
    this.multDisplay.textContent = `${(this.prestigeMult * (this.buffs?.fever?1.5:1) * this.chainBonus).toFixed(1)}x`;
    this.prestigeMultDisplay.textContent = `${this.prestigeMult.toFixed(1)}x`;
    
    // Update costs
    Object.keys(this.costs).forEach(key => {
      const costEl = document.getElementById(`${key}-cost`);
      if(costEl) costEl.textContent = `${this.getCost(key)} PP`;
    });
    
    // Prestige requirement
    const req = 1000 * Math.pow(1.8, this.prestige);
    document.getElementById('prestige-requirement').textContent = req.toLocaleString();
    
    // Button states
    ['click-power','auto-clicker','spawner','golden','crit','chain','variety','fever','aim'].forEach(id => {
      const btn = document.getElementById(`buy-${id}`);
      const costKey = id.replace('-','');
      if(btn) btn.disabled = this.PP < this.getCost(costKey);
    });
    document.getElementById('prestige-btn').disabled = this.PP < (1000 * Math.pow(1.8, this.prestige));
    
    // Progress code
    const code = `NEON-${this.prestige}X${Math.floor(this.totalPP/1000)}`;
    document.getElementById('code-display').textContent = code;
    
    this.updateBuffsUI();
  }
  
  updateBuffsUI() {
    this.buffsBar.innerHTML = '';
    if(this.buffs?.double) this.addBuffBadge('‚ö° 2x Clicks', 'critical');
    if(this.buffs?.fever) this.addBuffBadge('üî• Fever Mode', 'critical');
    if(this.chainUnlocked && this.chainCount >= 2) this.addBuffBadge(`üîó Chain x${this.chainCount} (+${Math.floor((this.chainBonus-1)*100)}%)`, 'chain');
    if(this.combo > 1) this.addBuffBadge(`üéØ Combo x${this.combo.toFixed(1)}`);
  }
  
  addBuffBadge(text, cls='') {
    const badge = document.createElement('span');
    badge.className = `buff-badge ${cls}`;
    badge.textContent = text;
    this.buffsBar.appendChild(badge);
  }
  
  getCost(upgrade) {
    return Math.floor(this.costs[upgrade] * Math.pow(1.15, this.levels[upgrade]));
  }
  
  showNotification(message) {
    if(this.settings.potato) return; // Skip in potato mode
    
    const notif = document.createElement('div');
    notif.className = 'event-notification';
    notif.textContent = message;
    this.notificationArea.appendChild(notif);
    setTimeout(() => notif.remove(), 2600);
  }
  
  // ============ TABS & SHOP ============
  setupTabs() {
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        e.target.classList.add('active');
        document.getElementById(e.target.dataset.tab).classList.add('active');
      });
    });
  }
  
  setupBuyButtons() {
    const buy = (key, cb) => {
      document.getElementById(`buy-${key}`).addEventListener('click', () => {
        const cost = this.getCost(key);
        if(this.PP >= cost) {
          this.PP -= cost;
          this.levels[key]++;
          cb();
          this.updateUI();
          this.showNotification('‚úÖ Upgrade Purchased!');
          this.saveGame();
        }
      });
    };
    
    buy('clickPower', () => this.clickPower++);
    buy('autoClicker', () => this.autoClickers++);
    buy('spawner', () => this.maxShapes++);
    buy('golden', () => { if(this.goldenChance < 0.3) this.goldenChance += 0.05; });
    buy('crit', () => { if(this.critChance < 0.25) this.critChance += 0.03; });
    buy('chain', () => { this.chainUnlocked = true; this.showNotification('üîó Chain Combos Unlocked!'); });
    buy('variety', () => { 
      this.shapeVarietyUnlocked = true; 
      if(!this.settings.itTheme) this.currentShapeTypes = [...this.allShapeTypes];
      this.showNotification('üí´ New Shapes Unlocked!'); 
    });
    buy('fever', () => { this.feverMode = true; this.showNotification('‚ö° Fever Mode Active!'); });
    buy('aim', () => { this.aimUnlocked = true; this.showNotification('üéØ Aim Trainer Unlocked! (Coming Soon)'); });
    
    // Prestige
    document.getElementById('prestige-btn').addEventListener('click', () => this.prestigeRebirth());
    
    // Daily bonus
    document.getElementById('claim-daily').addEventListener('click', () => {
      this.addPP(100);
      this.dailyClaimed = true;
      this.lastDailyCheck = new Date().toDateString();
      localStorage.setItem('neon_daily_date', this.lastDailyCheck);
      localStorage.setItem('neon_daily_claimed', 'true');
      document.getElementById('daily-bonus').style.display = 'none';
      this.showNotification('üéÅ Daily Bonus Claimed! +100 PP');
    });
    
    // Copy code
    document.getElementById('copy-code').addEventListener('click', () => {
      const code = document.getElementById('code-display').textContent;
      navigator.clipboard.writeText(code);
      this.showNotification('üìã Progress Code Copied!');
    });
  }
  
  prestigeRebirth() {
    const req = 1000 * Math.pow(1.8, this.prestige);
    if(this.PP < req) {
      this.showNotification(`‚ùå Need ${req.toLocaleString()} PP to prestige!`);
      return;
    }
    if(!confirm(`Rebirth for +50% permanent multiplier?\n\nCurrent: ${this.prestigeMult.toFixed(1)}x\nNew: ${(this.prestigeMult*1.5).toFixed(1)}x`)) return;
    
    this.prestige++;
    this.prestigeMult = Math.pow(1.5, this.prestige);
    
    // Reset progress
    this.PP = 0;
    this.combo = 1;
    this.lastClickTime = 0;
    this.chainBonus = 1;
    this.chainCount = 0;
    this.buffs = {};
    
    // Reset upgrades
    this.levels = {clickPower:0,autoClicker:0,spawner:0,golden:0,crit:0,chain:0,variety:0,fever:0,aim:0};
    this.clickPower = 1;
    this.autoClickers = 0;
    this.maxShapes = 3;
    this.goldenChance = 0;
    this.critChance = 0;
    this.chainUnlocked = false;
    this.shapeVarietyUnlocked = false;
    this.feverMode = false;
    
    // Clear shapes
    this.shapes.forEach(s => s.remove());
    this.shapes = [];
    
    // Unlock cosmetics on first prestige
    if(this.prestige === 1 && !this.achievements.find(a=>a.id==='prestige_1').unlocked) {
      this.unlockAchievement('prestige_1');
    }
    
    this.updateUI();
    this.setupAchievements();
    this.setupCosmetics();
    this.showNotification(`‚ú® PRESTIGE COMPLETE! Multiplier: ${this.prestigeMult.toFixed(1)}x`);
    this.saveGame();
  }
  
  // ============ LOOPS ============
  startLoops() {
    // Auto clickers
    setInterval(() => {
      if(this.autoClickers > 0) {
        const gain = this.autoClickers * (this.feverMode ? 1.5 : 1);
        this.addPP(gain);
      }
    }, 1000);
    
    // Shape spawner
    const spawnRate = Math.max(400, 1500 - this.levels.spawner * 150);
    setInterval(() => {
      if(this.shapes.length < this.maxShapes && !this.bossActive) this.createShape();
    }, spawnRate);
    
    // Initial shapes
    for(let i = 0; i < Math.min(2, this.maxShapes); i++) setTimeout(() => this.createShape(), i * 200);
    
    // Event checker
    setInterval(() => this.checkEvents(), 2000);
    
    // Play time tracker
    setInterval(() => {
      this.playTime++;
      if(this.playTime % 60 === 0 && this.totalClicks >= 100 && !this.achievements.find(a=>a.id==='clicks_100').unlocked) this.unlockAchievement('clicks_100');
      if(this.totalPP >= 10000 && !this.achievements.find(a=>a.id==='pp_10k').unlocked) this.unlockAchievement('pp_10k');
    }, 1000);
    
    // Auto-save
    if(this.settings.autoSave) {
      setInterval(() => this.saveGame(), 30000);
      window.addEventListener('beforeunload', () => this.saveGame());
    }
  }
  
  // ============ SAVE/LOAD ============
  saveGame() {
    const save = {
      PP: this.PP, prestige: this.prestige, prestigeMult: this.prestigeMult,
      clickPower: this.clickPower, autoClickers: this.autoClickers, maxShapes: this.maxShapes,
      goldenChance: this.goldenChance, critChance: this.critChance,
      chainUnlocked: this.chainUnlocked, shapeVarietyUnlocked: this.shapeVarietyUnlocked,
      feverMode: this.feverMode, aimUnlocked: this.aimUnlocked,
      levels: this.levels, achievements: this.achievements.map(a=>({id:a.id,unlocked:a.unlocked})),
      cosmetics: this.cosmetics, unlockedCosmetics: this.unlockedCosmetics,
      totalClicks: this.totalClicks, totalPP: this.totalPP, playTime: this.playTime,
      lastDailyCheck: this.lastDailyCheck, dailyClaimed: this.dailyClaimed
    };
    localStorage.setItem('neon_save', JSON.stringify(save));
  }
  
  loadGame() {
    const save = JSON.parse(localStorage.getItem('neon_save') || '{}');
    if(save.PP !== undefined) {
      Object.assign(this, save);
      // Restore cosmetics
      this.unlockedCosmetics = save.unlockedCosmetics || ['default'];
      this.cosmetics = save.cosmetics || this.cosmetics;
    }
    
    // Load settings
    const savedSettings = JSON.parse(localStorage.getItem('neon_settings') || '{}');
    this.settings = {...this.settings, ...savedSettings};
  }
  
  // ============ TUTORIAL ============
  showTutorial() {
    const overlay = document.getElementById('tutorial-overlay');
    overlay.style.display = 'flex';
    
    let step = 0;
    const steps = [
      {title:'üéÆ Welcome!',text:'Click the glowing shapes to earn PP. Build combos by clicking quickly!'},
      {title:'üè™ Shop & Upgrades',text:'Buy upgrades to click stronger, spawn more shapes, and unlock special features.'},
      {title:'‚ôªÔ∏è Prestige System',text:'When ready, prestige to reset for a permanent multiplier. Get stronger each rebirth!'},
      {title:'‚öôÔ∏è Settings',text:'Use the gear icon to enable Potato Mode for low-end devices or customize your experience.'}
    ];
    
    const updateStep = () => {
      const content = overlay.querySelector('.tutorial-step');
      content.innerHTML = `
        <h3>${steps[step].title}</h3>
        <p>${steps[step].text}</p>
        <div class="tutorial-nav">
          ${step < steps.length-1 ? `<button class="next" data-step="${step+1}">Next ‚Üí</button>` : `<button class="next" id="finish-tutorial">Let's Play! üöÄ</button>`}
          <button class="skip" id="skip-tutorial">Skip Tutorial</button>
        </div>
      `;
    };
    
    updateStep();
    
    overlay.addEventListener('click', (e) => {
      if(e.target.classList.contains('next')) {
        step = parseInt(e.target.dataset.step) || steps.length;
        if(step >= steps.length) {
          overlay.style.display = 'none';
          localStorage.setItem('neon_tutorial_seen', 'true');
        } else updateStep();
      }
      if(e.target.id === 'skip-tutorial' || e.target.id === 'finish-tutorial') {
        overlay.style.display = 'none';
        localStorage.setItem('neon_tutorial_seen', 'true');
      }
    });
  }
  
  // ============ PORTFOLIO EASTER EGGS ============
  setupEasterEggs() {
    // Easter egg: Click 5 shapes while on #work section
    let workClicks = 0;
    document.querySelectorAll('#work .card').forEach(card => {
      card.addEventListener('mouseenter', () => {
        const checkWork = (e) => {
          if(e.target.closest('#game-container')) {
            workClicks++;
            if(workClicks >= 5) {
              this.addPP(100);
              this.showNotification('üíº Work Experience Bonus: +100 PP!');
              workClicks = 0;
            }
          }
        };
        document.addEventListener('click', checkWork, {once:true});
      });
    });
    
    // Easter egg: "Open for Work" typing + golden click
    const originalType = typeEffect;
    // (Simplified - would need to hook into typing effect for full implementation)
  }
}

// ============ GAME INITIALIZATION ============
let game;
document.getElementById('game-open-btn').addEventListener('click', () => {
  document.getElementById('game-container').style.display = 'block';
  if(!game) {
    game = new UltimateNeonClicker();
  }
});

document.getElementById('close-game').addEventListener('click', () => {
  document.getElementById('game-container').style.display = 'none';
});

// Close with ESC
document.addEventListener('keydown', (e) => {
  if(e.key === 'Escape') {
    document.getElementById('game-container').style.display = 'none';
    document.getElementById('settings-modal').style.display = 'none';
  }
});

// Prevent scroll when game is open
document.getElementById('game-container').addEventListener('wheel', (e) => {
  if(e.target.closest('.tab-content')) e.stopPropagation();
}, {passive:false});
</script>
</body>
</html>
